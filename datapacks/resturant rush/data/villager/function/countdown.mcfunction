execute as @e[tag=customer,scores={countdown=0..}] at @s run scoreboard players remove @s countdown 1

execute as @e[tag=customer_countdown] at @s if score @e[tag=customer,limit=1,sort=nearest] countdown matches 36 run data merge entity @s {text:{"text":"36","color":"green","bold":true}}
execute as @e[tag=customer_countdown] at @s if score @e[tag=customer,limit=1,sort=nearest] countdown matches 35 run data merge entity @s {text:{"text":"35","color":"green","bold":true}}
execute as @e[tag=customer_countdown] at @s if score @e[tag=customer,limit=1,sort=nearest] countdown matches 34 run data merge entity @s {text:{"text":"34","color":"green","bold":true}}
execute as @e[tag=customer_countdown] at @s if score @e[tag=customer,limit=1,sort=nearest] countdown matches 33 run data merge entity @s {text:{"text":"33","color":"green","bold":true}}
execute as @e[tag=customer_countdown] at @s if score @e[tag=customer,limit=1,sort=nearest] countdown matches 32 run data merge entity @s {text:{"text":"32","color":"green","bold":true}}
execute as @e[tag=customer_countdown] at @s if score @e[tag=customer,limit=1,sort=nearest] countdown matches 31 run data merge entity @s {text:{"text":"31","color":"green","bold":true}}
execute as @e[tag=customer_countdown] at @s if score @e[tag=customer,limit=1,sort=nearest] countdown matches 30 run data merge entity @s {text:{"text":"30","color":"green","bold":true}}
execute as @e[tag=customer_countdown] at @s if score @e[tag=customer,limit=1,sort=nearest] countdown matches 29 run data merge entity @s {text:{"text":"29","color":"green","bold":true}}
execute as @e[tag=customer_countdown] at @s if score @e[tag=customer,limit=1,sort=nearest] countdown matches 28 run data merge entity @s {text:{"text":"28","color":"green","bold":true}}
execute as @e[tag=customer_countdown] at @s if score @e[tag=customer,limit=1,sort=nearest] countdown matches 27 run data merge entity @s {text:{"text":"27","color":"green","bold":true}}
execute as @e[tag=customer_countdown] at @s if score @e[tag=customer,limit=1,sort=nearest] countdown matches 26 run data merge entity @s {text:{"text":"26","color":"green","bold":true}}
execute as @e[tag=customer_countdown] at @s if score @e[tag=customer,limit=1,sort=nearest] countdown matches 25 run data merge entity @s {text:{"text":"25","color":"green","bold":true}}
execute as @e[tag=customer_countdown] at @s if score @e[tag=customer,limit=1,sort=nearest] countdown matches 24 run data merge entity @s {text:{"text":"24","color":"green","bold":true}}
execute as @e[tag=customer_countdown] at @s if score @e[tag=customer,limit=1,sort=nearest] countdown matches 23 run data merge entity @s {text:{"text":"23","color":"green","bold":true}}
execute as @e[tag=customer_countdown] at @s if score @e[tag=customer,limit=1,sort=nearest] countdown matches 22 run data merge entity @s {text:{"text":"22","color":"green","bold":true}}
execute as @e[tag=customer_countdown] at @s if score @e[tag=customer,limit=1,sort=nearest] countdown matches 21 run data merge entity @s {text:{"text":"21","color":"green","bold":true}}
execute as @e[tag=customer_countdown] at @s if score @e[tag=customer,limit=1,sort=nearest] countdown matches 20 run data merge entity @s {text:{"text":"20","color":"green","bold":true}}
execute as @e[tag=customer_countdown] at @s if score @e[tag=customer,limit=1,sort=nearest] countdown matches 19 run data merge entity @s {text:{"text":"19","color":"green","bold":true}}
execute as @e[tag=customer_countdown] at @s if score @e[tag=customer,limit=1,sort=nearest] countdown matches 18 run data merge entity @s {text:{"text":"18","color":"green","bold":true}}
execute as @e[tag=customer_countdown] at @s if score @e[tag=customer,limit=1,sort=nearest] countdown matches 17 run data merge entity @s {text:{"text":"17","color":"green","bold":true}}
execute as @e[tag=customer_countdown] at @s if score @e[tag=customer,limit=1,sort=nearest] countdown matches 16 run data merge entity @s {text:{"text":"16","color":"green","bold":true}}
execute as @e[tag=customer_countdown] at @s if score @e[tag=customer,limit=1,sort=nearest] countdown matches 15 run data merge entity @s {text:{"text":"15","color":"green","bold":true}}
execute as @e[tag=customer_countdown] at @s if score @e[tag=customer,limit=1,sort=nearest] countdown matches 14 run data merge entity @s {text:{"text":"14","color":"green","bold":true}}
execute as @e[tag=customer_countdown] at @s if score @e[tag=customer,limit=1,sort=nearest] countdown matches 13 run data merge entity @s {text:{"text":"13","color":"green","bold":true}}
execute as @e[tag=customer_countdown] at @s if score @e[tag=customer,limit=1,sort=nearest] countdown matches 12 run data merge entity @s {text:{"text":"12","color":"yellow","bold":true}}
execute as @e[tag=customer_countdown] at @s if score @e[tag=customer,limit=1,sort=nearest] countdown matches 11 run data merge entity @s {text:{"text":"11","color":"yellow","bold":true}}
execute as @e[tag=customer_countdown] at @s if score @e[tag=customer,limit=1,sort=nearest] countdown matches 10 run data merge entity @s {text:{"text":"10","color":"yellow","bold":true}}
execute as @e[tag=customer_countdown] at @s if score @e[tag=customer,limit=1,sort=nearest] countdown matches 9 run data merge entity @s {text:{"text":"9","color":"yellow","bold":true}}
execute as @e[tag=customer_countdown] at @s if score @e[tag=customer,limit=1,sort=nearest] countdown matches 8 run data merge entity @s {text:{"text":"8","color":"yellow","bold":true}}
execute as @e[tag=customer_countdown] at @s if score @e[tag=customer,limit=1,sort=nearest] countdown matches 7 run data merge entity @s {text:{"text":"7","color":"yellow","bold":true}}
execute as @e[tag=customer_countdown] at @s if score @e[tag=customer,limit=1,sort=nearest] countdown matches 6 run data merge entity @s {text:{"text":"6","color":"yellow","bold":true}}
execute as @e[tag=customer_countdown] at @s if score @e[tag=customer,limit=1,sort=nearest] countdown matches 5 run data merge entity @s {text:{"text":"5","color":"red","bold":true}}
execute as @e[tag=customer_countdown] at @s if score @e[tag=customer,limit=1,sort=nearest] countdown matches 4 run data merge entity @s {text:{"text":"4","color":"red","bold":true}}
execute as @e[tag=customer_countdown] at @s if score @e[tag=customer,limit=1,sort=nearest] countdown matches 3 run data merge entity @s {text:{"text":"3","color":"red","bold":true}}
execute as @e[tag=customer_countdown] at @s if score @e[tag=customer,limit=1,sort=nearest] countdown matches 2 run data merge entity @s {text:{"text":"2","color":"red","bold":true}}
execute as @e[tag=customer_countdown] at @s if score @e[tag=customer,limit=1,sort=nearest] countdown matches 1 run data merge entity @s {text:{"text":"1","color":"red","bold":true}}
execute as @e[tag=customer_countdown] at @s if score @e[tag=customer,limit=1,sort=nearest] countdown matches 0 run data merge entity @s {text:{"text":"0","color":"red","bold":true}}

execute as @e[tag=customer,scores={countdown=..-1}] at @s run particle angry_villager ~ ~1 ~ 0.5 0.4 0.5 1 15 normal
execute as @e[tag=customer,scores={countdown=..-1}] at @s run playsound entity.villager.no neutral @p
execute as @e[tag=customer,scores={countdown=..-1}] at @s run kill @e[tag=customer_text,limit=1,sort=nearest]
execute as @e[tag=customer,scores={countdown=..-1}] at @s run kill @e[tag=customer_text2,limit=1,sort=nearest,distance=..5]
execute as @e[tag=customer,scores={countdown=..-1}] at @s run kill @e[tag=customer_text3,limit=1,sort=nearest,distance=..5]
execute as @e[tag=customer,scores={countdown=..-1}] at @s run kill @e[tag=customer_countdown,limit=1,sort=nearest]
execute as @e[tag=customer,scores={countdown=..-1}] at @s run kill @e[tag=customer_interaction,limit=1,sort=nearest]
execute as @e[tag=customer,scores={countdown=..-1}] at @s run tag @e[tag=table_marker,tag=occupied,distance=..3] remove occupied
execute as @e[tag=customer,scores={countdown=..-1}] at @s run scoreboard players remove @p currentCustomers 1
execute as @e[tag=customer,scores={countdown=..-1}] at @s run tp @e[tag=customer,scores={countdown=..-1}] ~ ~-100 ~
execute as @e[tag=customer,scores={countdown=..-1}] at @s run kill @e[tag=customer,scores={countdown=..-1}]

schedule function villager:countdown 1s
